% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/CreateAndIntegrateRNA.R
\name{CreateAndIntegrateRNA}
\alias{CreateAndIntegrateRNA}
\title{Create and Integrate Seurat RNA Objects}
\usage{
CreateAndIntegrateRNA(
  data_dirs,
  cells = 3,
  features = 200,
  treatment = NULL,
  use_quantile = TRUE,
  quantile_value_min = 0.15,
  feature_min = NA,
  feature_max = NA,
  percent_mt_max = NA,
  interactive = FALSE,
  object_names = NULL,
  cell_IDs = names(seurat_objects),
  to_regress = "percent.mt",
  cluster_resolution = 0.3,
  max_dims = 15,
  use_SCT = TRUE,
  sct_assay = "RNA",
  save_rds_file = TRUE,
  file_name = NULL,
  use_elbow_plot = FALSE,
  spatial = FALSE,
  integration = "HarmonyIntegration",
  integration_normalization = "SCT",
  integration_assay = "SCT",
  integration_reduction = "pca",
  new_reduction = "harmony",
  k_anchor = NULL,
  k_weight = NULL,
  markers = TRUE
)
}
\arguments{
\item{data_dirs}{Path to directories containing matrix.mtx, features.tsv, and
barcodes.tsv or .h5 files.}

\item{cells}{Features must be expressed in at least this many cells}

\item{features}{Cells must have at least this many features}

\item{treatment}{Treatment metadata column (e.g., Age, chemical, etc.)}

\item{use_quantile}{Use quantile filtering method for nFeature_RNA and
percent.mt}

\item{quantile_value_min}{Minimum percentile for filtering (max will be 1-min)}

\item{feature_min}{Minimum cutoff for features}

\item{feature_max}{Maximum cutoff for features}

\item{percent_mt_max}{Maximum cutoff for percent.mt}

\item{interactive}{Run filtering interactively to pick cutoffs. A figure will
be shown of the the features and the percent.mt, or you can open the
automatically saved file}

\item{object_names}{Names for the Seurat objects}

\item{cell_IDs}{Adds cell identities to the beginning of each barcode}

\item{to_regress}{Variable to regress out in normalization}

\item{cluster_resolution}{Resolution for cell clustering}

\item{max_dims}{Maximum dimensions for FindNeighbors and UMAP}

\item{use_SCT}{Use SCTransform method or LogNormalize (FALSE)}

\item{sct_assay}{Assay for SCTransform normalization}

\item{save_rds_file}{Save final Seurat object}

\item{file_name}{Name of files}

\item{use_elbow_plot}{Use the ElbowPlot to determine number of componenets
for FindNeighbors and UMAP}

\item{spatial}{If your data is a spatial (i.e., Visium)}

\item{integration}{Method for integrating data, see IntegrateLayers}

\item{integration_normalization}{Normalization method used}

\item{integration_assay}{Assay that has normalized data}

\item{integration_reduction}{Reduction to use for integration}

\item{new_reduction}{Name of new integrated reduction}

\item{k_anchor}{How many neighbors (k) to use when picking anchors}

\item{k_weight}{Number of neighbors to consider when weighting anchors}

\item{markers}{Find all markers}
}
\value{
An integrated Seurat object
}
\description{
This function creates multiple Seurat objects and then integrates them. It
takes a list of directories as input. In each directory, there should be
the contents of the filtered feature matrix folder, a filtered feature
matrix folder, or a .h5 file. You can directly give the output folder from
cellranger into this function. It will preferentially choose the
filtered_feature_matrix folder. The function then automatically filters each
objects and integrates using Harmony. The user can change these parameters.
This function also save multiple Seurat objects along the way and
runs FindAllMarkers on the clusters.
}
